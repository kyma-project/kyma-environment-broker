{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "_controlsOrder": [
    "name",
    "region",
    "modules",
    "networking",
    "oidc",
    "administrators",
    "ingressFiltering"
  ],
  "_load_current_config": true,
  "_show_form_view": true,
  "additionalProperties": false,
  "properties": {
    "administrators": {
      "description": "Specifies the list of runtime administrators.",
      "items": {
        "type": "string"
      },
      "title": "Administrators",
      "type": "array"
    },
    "ingressFiltering": {
      "default": false,
      "description": "If set to true, ingress traffic from embargoed countries is blocked.",
      "title": "Enable ingress geo-blocking",
      "type": "boolean"
    },
    "modules": {
      "_controlsOrder": [
        "default",
        "list"
      ],
      "description": "Use default modules or provide your custom list of modules. Provide an empty custom list of modules if you don’t want any modules enabled.",
      "oneOf": [
        {
          "additionalProperties": false,
          "description": "Default modules",
          "properties": {
            "default": {
              "default": true,
              "description": "Check the default modules in the <a href=https://help.sap.com/docs/btp/sap-business-technology-platform/kyma-modules?version=Cloud>default modules table</a>.",
              "readOnly": true,
              "title": "Use Default",
              "type": "boolean"
            }
          },
          "title": "Default",
          "type": "object"
        },
        {
          "additionalProperties": false,
          "description": "Define custom module list",
          "properties": {
            "list": {
              "description": "Check a module technical name on this <a href=https://help.sap.com/docs/btp/sap-business-technology-platform/kyma-modules?version=Cloud>website</a>. You can only use a module technical name once. Provide an empty custom list of modules if you don’t want any modules enabled.",
              "items": {
                "additionalProperties": false,
                "_controlsOrder": [
                  "name",
                  "channel",
                  "customResourcePolicy"
                ],
                "properties": {
                  "channel": {
                    "_enumDisplayName": {
                      "": "",
                      "fast": "Fast - latest version",
                      "regular": "Regular - default version"
                    },
                    "default": "",
                    "description": "Select your preferred release channel or leave this field empty.",
                    "enum": [
                      "",
                      "regular",
                      "fast"
                    ],
                    "type": "string"
                  },
                  "customResourcePolicy": {
                    "_enumDisplayName": {
                      "": "",
                      "CreateAndDelete": "CreateAndDelete - default module resource is created or deleted.",
                      "Ignore": "Ignore - module resource is not created."
                    },
                    "default": "",
                    "description": "Select your preferred CustomResourcePolicy setting or leave this field empty.",
                    "enum": [
                      "",
                      "CreateAndDelete",
                      "Ignore"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "description": "Check a module technical name on this <a href=https://help.sap.com/docs/btp/sap-business-technology-platform/kyma-modules?version=Cloud>website</a>. You can only use a module technical name once.",
                    "minLength": 1,
                    "title": "Name",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "type": "array",
              "uniqueItems": true
            }
          },
          "title": "Custom",
          "type": "object"
        }
      ],
      "type": "object"
    },
    "name": {
      "_BTPdefaultTemplate": {
        "elements": [
          "saSubdomain"
        ]
      },
      "minLength": 1,
      "pattern": "^[a-zA-Z0-9-]*$",
      "title": "Cluster Name",
      "type": "string"
    },
    "networking": {
      "additionalProperties": false,
      "description": "Networking configuration. These values are immutable and cannot be updated later. All provided CIDR ranges must not overlap one another.",
      "properties": {
        "nodes": {
          "default": "10.250.0.0/16",
          "description": "CIDR range for Nodes, must not overlap with the following CIDRs: 10.243.128.0/17, 10.242.0.0/16, 10.243.0.0/17, 10.64.0.0/11, 10.254.0.0/16, 10.243.0.0/16, 192.168.123.0/24, 240.0.0.0/8",
          "title": "CIDR range for Nodes",
          "type": "string"
        },
        "pods": {
          "default": "10.96.0.0/13",
          "description": "CIDR range for Pods, must not overlap with the following CIDRs: 10.243.128.0/17, 10.242.0.0/16, 10.243.0.0/17, 10.64.0.0/11, 10.254.0.0/16, 10.243.0.0/16, 192.168.123.0/24, 240.0.0.0/8",
          "title": "CIDR range for Pods",
          "type": "string"
        },
        "services": {
          "default": "10.104.0.0/13",
          "description": "CIDR range for Services, must not overlap with the following CIDRs: 10.243.128.0/17, 10.242.0.0/16, 10.243.0.0/17, 10.64.0.0/11, 10.254.0.0/16, 10.243.0.0/16, 192.168.123.0/24, 240.0.0.0/8",
          "title": "CIDR range for Services",
          "type": "string"
        }
      },
      "required": [
        "nodes"
      ],
      "type": "object"
    },
    "oidc": {
        "description": "OIDC configuration. The list-based configuration is recommended. The object-based configuration is provided for backward compatibility. The object-based configuration inputs are still writable, but only from the JSON view.",
        "oneOf": [
            {
                "additionalProperties": false,
                "description": "OIDC configuration list",
                "properties": {
                    "list": {
                        "default": [
                            {
                                "clientID": "",
                                "encodedJwksArray": "",
                                "groupsClaim": "",
                                "groupsPrefix": "",
                                "issuerURL": "",
                                "requiredClaims": [],
                                "signingAlgs": null,
                                "usernameClaim": "",
                                "usernamePrefix": ""
                            }
                        ],
                        "description": "Specifies the list of OIDC configurations. Besides the default OIDC configuration, you can add multiple custom OIDC configurations. Leave the list empty to not use any OIDC configuration.",
                        "items": {
                            "_controlsOrder": [
                                "clientID",
                                "groupsClaim",
                                "issuerURL",
                                "signingAlgs",
                                "usernameClaim",
                                "usernamePrefix",
                                "groupsPrefix",
                                "requiredClaims",
                                "encodedJwksArray"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "clientID": {
                                    "description": "The client ID for the OpenID Connect client.",
                                    "minLength": 1,
                                    "type": "string"
                                },
                                "encodedJwksArray": {
                                    "description": "The JWKS array encoded in base64. Leave empty to not use it or to remove the previously set value.",
                                    "type": "string"
                                },
                                "groupsClaim": {
                                    "default": "",
                                    "description": "If provided, the name of a custom OpenID Connect claim for specifying user groups.",
                                    "minLength": 1,
                                    "type": "string"
                                },
                                "groupsPrefix": {
                                    "default": "",
                                    "description": "If specified, causes claims mapping to group names to be prefixed with the current value. The 'oidc:' value results in groups like 'oidc:engineering' and 'oidc:marketing'. The value '-' (dash character without additional characters) can be used to disable all prefixing.",
                                    "minLength": 1,
                                    "type": "string"
                                },
                                "issuerURL": {
                                    "description": "The URL of the OpenID issuer, only HTTPS scheme will be accepted.",
                                    "minLength": 1,
                                    "type": "string"
                                },
                                "requiredClaims": {
                                    "description": "A list of key=value pairs that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value.",
                                    "items": {
                                        "pattern": "^[^=]+=[^=]+$",
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "signingAlgs": {
                                    "default": null,
                                    "description": "A comma-separated list of allowed JOSE asymmetric signing algorithms, for example, RS256, ES256.",
                                    "items": {
                                        "type": "string"
                                    },
                                    "minItems": 1,
                                    "type": "array"
                                },
                                "usernameClaim": {
                                    "default": "",
                                    "description": "The OpenID claim to use as the user name.",
                                    "minLength": 1,
                                    "type": "string"
                                },
                                "usernamePrefix": {
                                    "default": "",
                                    "description": "If provided, all usernames are prefixed with this value. If not provided, username claims other than 'email' are prefixed by the issuer URL to avoid clashes. To skip any prefixing, provide the value '-' (dash character without additional characters).",
                                    "minLength": 1,
                                    "type": "string"
                                }
                            },
                            "required": [
                                "clientID",
                                "issuerURL",
                                "groupsClaim",
                                "usernameClaim",
                                "usernamePrefix",
                                "signingAlgs",
                                "groupsPrefix"
                            ],
                            "type": "object"
                        },
                        "type": "array",
                        "uniqueItems": true
                    }
                },
                "title": "List",
                "type": "object"
            },
            {
                "_controlsOrder": [
                    "clientID",
                    "groupsClaim",
                    "issuerURL",
                    "signingAlgs",
                    "usernameClaim",
                    "usernamePrefix",
                    "groupsPrefix",
                    "requiredClaims",
                    "encodedJwksArray"
                ],
                "additionalProperties": false,
                "description": "Legacy OIDC configuration",
                "properties": {
                    "clientID": {
                        "description": "The client ID for the OpenID Connect client.",
                        "readOnly": true,
                        "type": "string"
                    },
                    "encodedJwksArray": {
                        "description": "The JWKS array encoded in base64. To remove the previously set value, enter the value '-' (dash character without additional characters).",
                        "readOnly": true,
                        "type": "string"
                    },
                    "groupsClaim": {
                        "description": "If provided, the name of a custom OpenID Connect claim for specifying user groups.",
                        "readOnly": true,
                        "type": "string"
                    },
                    "groupsPrefix": {
                        "description": "If specified, causes claims mapping to group names to be prefixed with the current value. The 'oidc:' value results in groups like 'oidc:engineering' and 'oidc:marketing'. The value '-' (dash character without additional characters) can be used to disable all prefixing.",
                        "readOnly": true,
                        "type": "string"
                    },
                    "issuerURL": {
                        "description": "The URL of the OpenID issuer, only HTTPS scheme will be accepted.",
                        "readOnly": true,
                        "type": "string"
                    },
                    "requiredClaims": {
                        "description": "A list of key=value pairs that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value. To remove the previously set claims, use the value '-' (dash character without additional characters).",
                        "items": {
                            "pattern": "^([^=]+=[^=]+|-)$",
                            "type": "string"
                        },
                        "readOnly": true,
                        "type": "array"
                    },
                    "signingAlgs": {
                        "description": "A comma-separated list of allowed JOSE asymmetric signing algorithms, for example, RS256, ES256.",
                        "items": {
                            "type": "string"
                        },
                        "readOnly": true,
                        "type": "array"
                    },
                    "usernameClaim": {
                        "description": "The OpenID claim to use as the user name.",
                        "readOnly": true,
                        "type": "string"
                    },
                    "usernamePrefix": {
                        "description": "If provided, all usernames are prefixed with this value. If not provided, username claims other than 'email' are prefixed by the issuer URL to avoid clashes. To skip any prefixing, provide the value '-' (dash character without additional characters).",
                        "readOnly": true,
                        "type": "string"
                    }
                },
                "required": [
                    "clientID",
                    "issuerURL"
                ],
                "title": "Object (not recommended)",
                "type": "object"
            }
        ],
        "type": "object"
    },
    "region": {
      "_enumDisplayName": {
        "eu-central-1": "eu-central-1 (Europe, Frankfurt)"
      },
      "enum": [
        "eu-central-1"
      ],
      "minLength": 1,
      "type": "string"
    }
  },
  "required": [
    "name",
    "region"
  ],
  "type": "object"
}
