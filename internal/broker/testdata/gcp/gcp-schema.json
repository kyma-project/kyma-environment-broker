{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "_controlsOrder": [
    "name",
    "region",
    "machineType",
    "autoScalerMin",
    "autoScalerMax",
    "additionalWorkerNodePools",
    "modules",
    "networking"
  ],
  "_load_current_config": true,
  "_show_form_view": true,
  "properties": {
    "additionalWorkerNodePools": {
      "description": "Specifies the list of additional worker node pools.",
      "type": "array",
      "uniqueItems": true,
      "items": {
        "type": "object",
        "required": ["name", "machineType", "haZones", "autoScalerMin", "autoScalerMax"],
        "_controlsOrder": ["name", "machineType", "haZones", "autoScalerMin", "autoScalerMax"],
        "properties": {
          "name": {
            "description": "Specifies the unique name of the additional worker node pool. The name must consist of lowercase alphanumeric characters or '-', must start and end with an alphanumeric character, and can be a maximum of 15 characters in length.",
            "type": "string",
            "minLength": 1,
            "maxLength": 15,
            "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
          },
          "machineType": {
            "description": "Specifies the type of the virtual machine.",
            "type": "string",
            "minLength": 1,
            "enum": [
              "n2-standard-2",
              "n2-standard-4",
              "n2-standard-8",
              "n2-standard-16",
              "n2-standard-32",
              "n2-standard-48",
              "n2-standard-64",
              "c2d-highcpu-2",
              "c2d-highcpu-4",
              "c2d-highcpu-8",
              "c2d-highcpu-16",
              "c2d-highcpu-32",
              "c2d-highcpu-56"
            ],
            "_enumDisplayName": {
              "n2-standard-2":  "n2-standard-2 (2vCPU, 8GB RAM)",
              "n2-standard-4":  "n2-standard-4 (4vCPU, 16GB RAM)",
              "n2-standard-8":  "n2-standard-8 (8vCPU, 32GB RAM)",
              "n2-standard-16": "n2-standard-16 (16vCPU, 64GB RAM)",
              "n2-standard-32": "n2-standard-32 (32vCPU, 128GB RAM)",
              "n2-standard-48": "n2-standard-48 (48vCPU, 192GB RAM)",
              "n2-standard-64": "n2-standard-64 (64vCPU, 256GB RAM)",
              "c2d-highcpu-2": "c2d-highcpu-2 (2vCPU, 4GB RAM)",
              "c2d-highcpu-4": "c2d-highcpu-4 (4vCPU, 8GB RAM)",
              "c2d-highcpu-8": "c2d-highcpu-8 (8vCPU, 16GB RAM)",
              "c2d-highcpu-16": "c2d-highcpu-16 (16vCPU, 32GB RAM)",
              "c2d-highcpu-32": "c2d-highcpu-32 (32vCPU, 64GB RAM)",
              "c2d-highcpu-56": "c2d-highcpu-56 (56vCPU, 112GB RAM)"
            }
          },
          "haZones": {
            "description": "Specifies whether high availability (HA) zones are supported. This setting is permanent and cannot be changed later. If HA is disabled, all resources are placed in a single, randomly selected zone. Disabled HA allows setting both autoScalerMin and autoScalerMax to 1, which helps reduce costs. It is not recommended for production environments. When enabled, resources are distributed across three zones to enhance fault tolerance. Enabled HA requires setting autoScalerMin to the minimal value 3.",
            "title": "HA zones",
            "type": "boolean",
            "default": true
          },
          "autoScalerMin": {
            "description": "Specifies the minimum number of virtual machines to create.",
            "type": "integer",
            "minimum": 1,
            "default": 3
          },
          "autoScalerMax": {
            "description": "Specifies the maximum number of virtual machines to create.",
            "type": "integer",
            "minimum": 1,
            "maximum": 300,
            "default": 20
          }
        }
      }
    },
    "autoScalerMax": {
      "default": 20,
      "description": "Specifies the maximum number of virtual machines to create",
      "maximum": 300,
      "minimum": 3,
      "type": "integer"
    },
    "autoScalerMin": {
      "default": 3,
      "description": "Specifies the minimum number of virtual machines to create",
      "minimum": 3,
      "type": "integer"
    },
    "machineType": {
      "_enumDisplayName": {
        "n2-standard-2":  "n2-standard-2 (2vCPU, 8GB RAM)",
        "n2-standard-4":  "n2-standard-4 (4vCPU, 16GB RAM)",
        "n2-standard-8":  "n2-standard-8 (8vCPU, 32GB RAM)",
        "n2-standard-16": "n2-standard-16 (16vCPU, 64GB RAM)",
        "n2-standard-32": "n2-standard-32 (32vCPU, 128GB RAM)",
        "n2-standard-48": "n2-standard-48 (48vCPU, 192GB RAM)",
        "n2-standard-64": "n2-standard-64 (64vCPU, 256GB RAM)"
      },
      "description": "Specifies the type of the virtual machine.",
      "enum": [
        "n2-standard-2",
        "n2-standard-4",
        "n2-standard-8",
        "n2-standard-16",
        "n2-standard-32",
        "n2-standard-48",
        "n2-standard-64"
      ],
      "type": "string"
    },
    "modules": {
      "_controlsOrder": [
        "default",
        "list"
      ],
      "description": "Use default modules or provide your custom list of modules. Provide an empty custom list of modules if you don’t want any modules enabled.",
      "oneOf": [
        {
          "additionalProperties": false,
          "description": "Default modules",
          "properties": {
            "default": {
              "default": true,
              "description": "Check the default modules in the <a href=https://help.sap.com/docs/btp/sap-business-technology-platform/kyma-modules?version=Cloud>default modules table</a>.",
              "readOnly": true,
              "title": "Use Default",
              "type": "boolean"
            }
          },
          "title": "Default",
          "type": "object"
        },
        {
          "additionalProperties": false,
          "description": "Define custom module list",
          "properties": {
            "list": {
              "description": "Check a module technical name on this <a href=https://help.sap.com/docs/btp/sap-business-technology-platform/kyma-modules?version=Cloud>website</a>. You can only use a module technical name once. Provide an empty custom list of modules if you don’t want any modules enabled.",
              "items": {
                "_controlsOrder": [
                  "name",
                  "channel",
                  "customResourcePolicy"
                ],
                "properties": {
                  "channel": {
                    "_enumDisplayName": {
                      "": "",
                      "fast": "Fast - latest version",
                      "regular": "Regular - default version"
                    },
                    "default": "",
                    "description": "Select your preferred release channel or leave this field empty.",
                    "enum": [
                      "",
                      "regular",
                      "fast"
                    ],
                    "type": "string"
                  },
                  "customResourcePolicy": {
                    "_enumDisplayName": {
                      "": "",
                      "CreateAndDelete": "CreateAndDelete - default module resource is created or deleted.",
                      "Ignore": "Ignore - module resource is not created."
                    },
                    "default": "",
                    "description": "Select your preferred CustomResourcePolicy setting or leave this field empty.",
                    "enum": [
                      "",
                      "CreateAndDelete",
                      "Ignore"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "description": "Check a module technical name on this <a href=https://help.sap.com/docs/btp/sap-business-technology-platform/kyma-modules?version=Cloud>website</a>. You can only use a module technical name once.",
                    "minLength": 1,
                    "title": "Name",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "type": "array",
              "uniqueItems": true
            }
          },
          "title": "Custom",
          "type": "object"
        }
      ],
      "type": "object"
    },
    "name": {
      "_BTPdefaultTemplate": {
        "elements": [
          "saSubdomain"
        ]
      },
      "minLength": 1,
      "pattern": "^[a-zA-Z0-9-]*$",
      "title": "Cluster Name",
      "type": "string"
    },
    "networking": {
      "description": "Networking configuration. These values are immutable and cannot be updated later. All provided CIDR ranges must not overlap one another.",
      "properties": {
        "nodes": {
          "default": "10.250.0.0/16",
          "description": "CIDR range for Nodes, must not overlap with the following CIDRs: 10.243.128.0/17, 10.242.0.0/16, 10.243.0.0/17, 10.64.0.0/11, 10.254.0.0/16, 10.243.0.0/16",
          "title": "CIDR range for Nodes",
          "type": "string"
        },
        "pods": {
          "default": "10.96.0.0/13",
          "description": "CIDR range for Pods, must not overlap with the following CIDRs: 10.243.128.0/17, 10.242.0.0/16, 10.243.0.0/17, 10.64.0.0/11, 10.254.0.0/16, 10.243.0.0/16",
          "title": "CIDR range for Pods",
          "type": "string"
        },
        "services": {
          "default": "10.104.0.0/13",
          "description": "CIDR range for Services, must not overlap with the following CIDRs: 10.243.128.0/17, 10.242.0.0/16, 10.243.0.0/17, 10.64.0.0/11, 10.254.0.0/16, 10.243.0.0/16",
          "title": "CIDR range for Services",
          "type": "string"
        }
      },
      "required": [
        "nodes"
      ],
      "type": "object"
    },
    "region": {
      "_enumDisplayName": {
        "europe-west3": "europe-west3 (Europe, Frankfurt)",
        "asia-south1": "asia-south1 (India, Mumbai)",
        "us-central1": "us-central1 (US Central, IA)",
        "me-central2": "me-central2 (KSA, Dammam)",
        "asia-northeast2": "asia-northeast2 (Japan, Osaka)",
        "me-west1": "me-west1 (Israel, Tel Aviv)",
        "southamerica-east1": "southamerica-east1 (Brazil, São Paulo)",
        "australia-southeast1": "australia-southeast1 (Australia, Sydney)",
        "asia-northeast1": "asia-northeast1 (Japan, Tokyo)",
        "asia-southeast1": "asia-southeast1 (Singapore, Jurong West)",
        "us-west1": "us-west1 (North America, Oregon)",
        "us-east4": "us-east4 (North America, Virginia)",
        "europe-west4": "europe-west4 (Europe, Netherlands)"
      },
      "enum": [
        "europe-west3",
        "asia-south1",
        "us-central1",
        "me-central2",
        "asia-northeast2",
        "me-west1",
        "southamerica-east1",
        "australia-southeast1",
        "asia-northeast1",
        "asia-southeast1",
        "us-west1",
        "us-east4",
        "europe-west4"
      ],
      "minLength": 1,
      "type": "string"
    }
  },
  "required": [
    "name",
    "region"
  ],
  "type": "object"
}
